# Authentication Actor Environment Variables

# JWT Configuration
# Initial JWT secret - should be a strong random string in production
# Generate with: openssl rand -base64 64
JWT_SECRET=your-strong-jwt-secret-here

# JWT rotation interval in milliseconds (default: 30 days)
# 30 days = 2592000000
JWT_ROTATION_INTERVAL=2592000000

# JWT secret lifetime in milliseconds (default: 90 days)
# Secrets remain valid for verification for this duration after rotation
# 90 days = 7776000000
JWT_SECRET_LIFETIME=7776000000

# Application URL (used for magic links)
APP_URL=https://your-app.com

# Session configuration
SESSION_TIMEOUT=86400000  # 24 hours in milliseconds
TOKEN_EXPIRY=900000       # 15 minutes for magic links

# Rate limiting
RATE_LIMIT_WINDOW=900000  # 15 minutes
RATE_LIMIT_MAX_ATTEMPTS=3

# Security
ENABLE_AUDIT_LOG=true
MAX_SESSIONS_PER_USER=10
ENABLE_DEVICE_TRACKING=true

# Actor runtime configuration
ACTOR_ID=user-auth
ACTOR_CLUSTER_URL=nats://localhost:4222
ACTOR_LOG_LEVEL=info

# Monitoring and Security
ENABLE_METRICS_ENDPOINT=true
METRICS_PORT=9090
EXPORT_METRICS_ON_SHUTDOWN=false
EXPORT_SECURITY_EVENTS_ON_SHUTDOWN=false

# Security Webhook (optional)
# SECURITY_WEBHOOK_URL=https://security.example.com/events
# SECURITY_WEBHOOK_TOKEN=your-webhook-token

# External service actors (using actor names, not URLs)
# These are referenced by actor name in tell() and ask() calls
# The runtime handles the actual communication